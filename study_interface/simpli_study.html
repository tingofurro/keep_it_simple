<html>
    <head>
        <title>Text Simplification Study</title>
        <style>
            @import url('https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900');
            body {
                height: 100%; width: 100%;
                background: #e0e0e0;
                font-family: "Roboto";
                font-size: 16px;
                padding: 0px;
                margin: 0px;
            }
            input {
                vertical-align: middle;
            }
            #consent_mask, #pre_questions, #main_section, #final_section, #invalid_section {
                min-height: 100%; width: 100%;
                background: white;
                position: absolute;
                top: 0px; left: 0px;
                padding-bottom: 100px;
                box-sizing: border-box;
            }

            #consent_mask {z-index: 10;}
            #pre_questions {z-index: 8;}
            #main_section {z-index: 6;}
            #invalid_section {z-index: 5;}
            #final_section {z-index: 4;}
            .center_container {
                width: 600px;
                max-width: 100%;
                margin: 0px auto;
                margin-top: 100px;
            }
            .title {
                font-size: 28px;
                padding: 20px 0px;
                text-align: center;
            }
            .tos {
                font-size: 14px;
                color: #333;
            }
            .center {
                text-align: center;
            }
            .center_container button {
                margin: 15px auto;
                font-size: 20px;
            }
            .question {
                font-size: 20px;
                font-weight: 500;
                padding-bottom: 5px;
                padding-top: 20px;
            }
            .incorrect_question {
                color: #aa0000;
            }
            label {
                font-size: 16px;
                vertical-align: middle;
                padding: 0px 10px;
                color: #606060;
                display: inline-block;
            }
            #article_content {
                line-height: 1.5;
            }
            #main_container {
                text-align: center;
                margin-top: 50px;
            }
            #left_content, #right_content {
                display: inline-block;
                vertical-align: top;
                width: 600px;
            }
            #main_button {
                margin-top: 15px;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
        <script type="text/javascript" src="jquery.cookie.js"></script>
        <script type="text/javascript" src="url.js"></script>
    </head>
    <body>
        <div id="consent_mask">
            <div id="consent_container" class="center_container">
                <div class="title">Welcome</div>
                <div class="bullet">&bullet; The entire HIT should take no more than 12 minutes:</div>
                <div class="bullet">&nbsp;&nbsp;&nbsp;&nbsp;(1) You will answer a pre-questionaire.</div>
                <div class="bullet">&nbsp;&nbsp;&nbsp;&nbsp;(2) Read <b>4</b> short news story and answer comprehension questions about each.</div>

                <div class="bullet">&bullet; If you believe the answer is not in the document, you can select the option "Answer not in document".</div>
                <div class="bullet">&bullet; There is no time limit for each individual document or question.</div>
                <div class="bullet">&bullet; You can leave at any point but will not complete the HIT.</div>
                <div class="bullet">&bullet; You can complete this task at most once.</div>
                <div class="bullet">&bullet; If you have a question/problem, contact us at <u>newslens@berkeley.edu</u>.</div>
                <div class="center">
                    <button onclick="$('#consent_mask').hide();">I Accept</button>
                </div>
                <div class="tos">By clicking "I Accept", you agree to our terms. Namely: we will use the data will collect for research purposes. We do not collect any personally identifiable information. You agree to performing the task to the best of your ability.</div>
            </div>
    
        </div>
        <div id="pre_questions">
            <div id="pre_container" class="center_container">
                <div class="title">Introduction Questions</div>
                <div class="question">
                    Is English your native language?
                </div>
                <div class="options">
                    <input type="radio" id="is_native_yes" name="is_native" value="yes"> <label for="is_native_yes">Yes</label>
                    <input type="radio" id="is_native_no" name="is_native" value="no"> <label for="is_native_no">No</label>
                </div>
                <div class="question">
                    How often do you read news in English?
                </div>
                <div class="options">
                    <input type="radio" id="how_often_never" name="how_often" value="never"> <label for="how_often_never">Never</label>
                    <input type="radio" id="how_often_month" name="how_often" value="month"> <label for="how_often_month">Once a month</label>
                    <input type="radio" id="how_often_week" name="how_often" value="week"> <label for="how_often_week">Once a week</label>
                    <input type="radio" id="how_often_daily" name="how_often" value="day"> <label for="how_often_daily">On a daily basis</label>
                </div>
                <div class="center">
                    <button onclick="submit_presubmission();">Submit Answers</button>
                </div>
            </div>
        </div>
        <div id="main_section">
            <div id="main_container">
                <div id="left_content">
                    <div class="title">News Article</div>
                    <div id="article_content"></div>
                </div>
                <div id="right_content">
                    <div class="title">Comprehension questions</div>
                    <div id="questions_loading">
                        The questions will be displayed in a minute.<br />
                        You should read the article first.
                    </div>
                    <div id="questions_and_button">
                        <div id="article_questions"></div>
                        <div class="center">
                            <button onclick="submit_main();" id="main_button">Submit Answers</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="invalid_section">
            <div class="center_container">
                You've already filled some part of this study, you are not eligible. If you think we made a mistake, you can contact us: phillab@berkeley.edu
            </div>
        </div>
        <div id="final_section">
            <div id="final_container" class="center_container">
                You've completed the task!
                Click here to complete the HIT:
                <form method="get" action="" id="aws_form">
                    <input type="hidden" name="assignmentId" id="assignmentId" value="">
                    <input type="submit" name="submitter" value="Submit the HIT.">
                    <input type="hidden" name="random" value="randi">
                </form>
            </div>
        </div>
    <script>
        // This is copied from `simplification_user_study.json` for demonstration purposes. In the original, this was loaded through API requests
        var simplification_data = [{"document_id":1,"url":"https://newsela.com/read/ms-marvel-muslim-superhero/id/2001014463/?search_id=e28f3026-95a0-42bc-8011-8cb142fd092b","questions":[{"qid":1,"question":"Who is Iman Vellani?","answers":["A Canadian Actress","A Pakistani American","Ms. Marvel's head writer","An Oscar Winner"],"correct":["A Canadian Actress"]},{"qid":2,"question":"Where will the character be featured?","answers":["A Disney Plus series","Marvel films","In The Walking Dead","In Jersey City"],"correct":["A Disney Plus series","Marvel films"]},{"qid":3,"question":"Who will play Ms. Marvel?","answers":["Iman Vellani","Kamala Khan","Bisha K. Ali","Bilall Fallah"],"correct":["Iman Vellani"]},{"qid":6,"question":"Who is the writer of Ms. Marvel?","answers":["Bisha K. Ali","Kevin Feige","Adil El Arbi","Meera Menon"],"correct":["Bisha K. Ali"]},{"qid":8,"question":"What is the religion of the Ms. Marvel character?","answers":["Muslim","Christian","Jewish","No Religion"],"correct":["Muslim"]}],"texts":[{"tag":"original","text":"Canadian actress Iman Vellani has been cast as the Jersey City superhero of Ms. Marvel, an upcoming Disney Plus series, according to The Hollywood Reporter. Vellani is also expected to play the role in Marvel films.\nVellani, who hails from the Toronto, Canada, area, will play Ms. Marvel, aka Kamala Khan, the Pakistani American teen who became the first Muslim character to get her own Marvel comic book in 2014.\nBisha K. Ali (Hulu's \"Four Weddings and A Funeral\") serves as head writer of \"Ms. Marvel,\" which will be directed by Adil El Arbi and Bilall Fallah (\"Bad Boys for Life\"), Oscar winner Sharmeen Obaid-Chinoy and Meera Menon (\"The Walking Dead\").\nIn 2019, Kevin Feige, president of Marvel Studios, announced that the character would get her own Disney Plus series and be featured in the Marvel Cinematic Universe."},{"tag":"newsela","text":"The first Muslim superhero ever to star in her own Marvel comic book will soon be getting her own TV series.\nThat would be Ms. Marvel, who will be featured in an upcoming Disney Plus series. She'll be played by Canadian actress Iman Vellani, according to The Hollywood Reporter. Vellani is also expected to play the role in Marvel films.\nVellani hails from the Toronto, Canada, area. Ms. Marvel is also known as Kamala Khan, a Pakistani American teen. She became the first Muslim character to get her own Marvel comic book in 2014. Muslims follow the religion Islam, practiced by hundreds of millions of people worldwide.\nBisha K. Ali serves as head writer of \"Ms. Marvel.\" Episodes will be directed by Adil El Arbi and Bilall Fallah, Oscar-winner Sharmeen Obaid-Chinoy and Meera Menon, who worked on \"The Walking Dead.\"\nKevin Feige is president of Marvel Studios. In 2019, he announced that the character would get her own Disney Plus series and be featured in the Marvel Cinematic Universe."},{"tag":"unsupervised","text":"Iman Vellani has joined the cast of Ms. Marvel , a new Disney Plus series , according the Hollywood Reporter. Vellani is also expected to play Ms. Marvel in upcoming Marvel films.\n Vellani, who hails out of Toronto, Canada, is the star of Ms. Marvel, aka Kamala Khan, who was the first Muslim character to get her comic book in 2014.\n Bisha K. Ali, the lead writer of Ms. Marvel, will be in charge of the film, which will be directed by Adil El Arbi and Bilall Fallah (Bad Boys for Life), Oscar winner Sharmeen Obaid-Chinoy and Meera Menon.\n Kevin Feige , president of Marvel Studios, said in 2019 that the character will get her own Disney Plus series and be featured in the Marvel movie universe."},{"tag":"supervised","text":"Iman Vellani has been cast as the superhero of Marvel's new heroine, Ms. Marvel, according to The Hollywood Reporter. Vellani is also expected to play the part in Marvel movies.\nVellani is from Toronto, Canada. She will play the Pakistani American superhero named Kamala Khan. Khan is the first Muslim character to get her own Marvel comic book. In 2014, she became the first Muslim superhero to get a comic book of her own.\nBisha K. Ali is a writer for Hulu's Four Weddings and A Funeral. She wrote the script for the show. It will be written and produced by Adil El Arbi and Bilall Fallah (Bad Boys for Life), Oscar winner Sharmeen Obaid-Chinoy and Meera Menon (The Walking Dead).\nKevin Feige is president of Marvel Studios. In 2019, he said that the character would get a Disney Plus series. She would appear in the Marvel Cinematic Universe and be part of the Marvel Studios movie company."},{"tag":"access","text":"Canadian actress Iman Vellani is best known for being the Jersey City superhero of Ms and Marvel, an upcoming Disney Plus series, according to The Hollywood Reporter. Vellani is also best known for his role in Marvel films.\nVellani, who comes from the Toronto, Canada, area, will play Ms, the Pakistani American teen who became the first Muslim character to get her own Marvel comic book in 2014.\nBisha K. Ali (Hulu's RAF Four Weddings and A Funeral Monastery) is the head writer of the government of the world, and will be directed by Adil El Arbi and Bilall Fallah, Oscar winner Sharmeen Obaid-Chinoy and Meera Menon.\nIn 2019, Kevin Feige, president of Marvel Studios, said that the character would get her own Disney Plus series in the Marvel Cinematic Universe."}]},{"document_id":2,"url":"https://newsela.com/read/library-pandemic-programs/id/2001014094/?search_id=2ee2ffc4-f235-4136-ab3d-6681b113f5d3","questions":[{"qid":1,"question":"Who manages the St Louis library kids programs?","answers":["Joe Monahan","Paula Langsam","St. Louis Camp Leaders"],"correct":["Joe Monahan"]},{"qid":2,"question":"Were any of the camps in St Louis cancelled?","answers":["Yes","No"],"correct":["Yes"]},{"qid":3,"question":"How did the Ukulele camps meet?","answers":["The didn't meet","They met virtually","They met in the park","They met at the library"],"correct":["They met virtually"]},{"qid":4,"question":"What types of camps do the libraries host?","answers":["Yoga camps","Chess camps","Pottery camps","Ukulele camps"],"correct":["Yoga camps","Chess camps","Ukulele camps"]},{"qid":5,"question":"How many camps were scheduled, and how many were run?","answers":["70 scheduled, 54 run","54 scheduled, 70 run","70 scheduled, 0 run","54 scheduled, 0 run"],"correct":["70 scheduled, 54 run"]}],"texts":[{"tag":"original","text":"Each summer, libraries in St. Louis, Missouri, host many types of free camps — yoga, chess and even a Harry Potter \"Sorting Hat Camp.\" In 2020, camp dreams seemed far-fetched given the global coronavirus pandemic. That didn't stop St. Louis libraries, though.\nInstead of canceling, they brought camp into kids' homes. So children who signed up for ukulele camp got a beginner's guidebook, instructional DVD and an actual ukulele in the mail. It was all free. In addition, camp sessions still occurred. Advisers met with kids using virtual formats.\nJoe Monahan, manager of youth services for the St. Louis library system, says that of the 70 camps originally scheduled, 54 were held virtually.\nPaula Langsam, a youth services manager at the soon-to-reopen Martin Luther King Junior Memorial Library in Washington, D.C., says, \"In a way, our work has changed a lot. We didn't used to do videos a lot.\""},{"tag":"newsela","text":"In St. Louis, Missouri, libraries hold many types of free camps in the summer. They have yoga, chess and even a Harry Potter camp. In 2020, camp ideas seemed unlikely due to the spread of COVID-19. That did not stop St. Louis libraries, though. They did not cancel their programs. They brought camp into kids' homes.\nChildren who signed up for ukulele camp got a beginner's book, instructional video and a ukulele in the mail. It was all free. In addition, camp sessions still went on. Camp leaders met with kids over video calls.\nJoe Monahan runs the kids programs for the St. Louis libraries. He said 70 camps were scheduled at first. Some were dropped but 54 were still held online.\nPaula Langsam works at the Martin Luther King Junior Memorial Library in Washington, D.C. It reopened on September 24. She said, \"Our work has changed a lot. We didn't used to do videos a lot.\""},{"tag":"supervised","text":"Each summer, St. Louis libraries host many types of free camps — yoga, chess and even a Harry Potter \"Sorting Hat Camp.\" In 2020, camp dreams seemed far-fetched given the global cough . However , the future looked bright for libraries in St. Louis.\nInstead of canceling, they brought camp into kids' homes. This is called ukulele camp. Kids signed up for it in the mail. They got a beginner's guidebook, video and an actual ukulele to play. It was all free. Advisers met with kids using virtual formats.\nJoe Monahan, manager of youth services for the St. Louis library system, says that 70 camps were originally planned. Of those, 54 were held mostly.\nPaula Langsam is a youth services manager who works at the Martin Luther King Junior Memorial Library in Washington, D.C. She says, \"In a way, our work has changed a lot. We didn't used to do videos a lot.\""},{"tag":"unsupervised","text":"In the summer months, St. Louis has many free classes for kids, including yoga, chess and a Harry Potter \"Sorting Hat Camp.\" In 2020, camp dreams again seemed far-fetched given the crisis. That didn't stop St. Louis libraries, though.\nThey brought camp in. So kids who signed up for ukulele camp got a beginner's guidebook, a lesson DVD and a real ukulele in the mailbox. It was all free. In addition, camp sessions continued. Advisers tried out a virtual format.\nJoe Monahan, the manager of youth services for the St. Louis library system, says that of the 70 camps originally scheduled, 54 were held mostly.\nPaula Langsam, a youth services manager at the Martin Luther King Junior library, says, \"In a way, our work changed a lot. We didn't do videos a lot.\""},{"tag":"access","text":"Each summer, libraries in St. Louis, Missouri, has many different types of free camps that are yoga, chess and even a Harry Potter gang Sorting Hat Camp. In 2020, camp dreams seemed far-fetched that there was the global coronavirus pandemic. That did not stop St. Louis libraries, though.\nInstead of being canceled, they brought camp into children's homes. So children who signed up for ukulele camp got a guidebook. They also had an actual ukulelele in the mail. It was all free. In addition, camp meetings still happened. Advisers met with new children using virtual formats.\nJoe Monahan, also known as Joe Monahan, has youth services for the St. Louis library system says that of the 70 camps first started, 54 were held.\nPaula Langsam, also known as Paula Langsam, is a youth services manager at the soon-to-reopen Martin Luther King Junior Library in Washington, D. We did not use to do many videos a lot."}]},{"document_id":3,"url":"https://newsela.com/read/suppliers-pledge-food-waste/id/2001014130/?search_id=2ee2ffc4-f235-4136-ab3d-6681b113f5d3","questions":[{"qid":1,"question":"When did food retailers sign onto the campaign?","answers":["In 2019","By 2030","In 2020","In 2015"],"correct":["In 2019"]},{"qid":2,"question":"What website hosts information about food waste?","answers":["The 10x20x30 initiative","Unilever","The Food Waste Atlas","The World Resources Institute"],"correct":["The Food Waste Atlas"]},{"qid":3,"question":"What is the objective of the 10x20x30 initiative?","answers":["Reduce food thrown away","Reduce food produced","Connect food makers with retailers","Reduce food transports"],"correct":["Reduce food thrown away"]},{"qid":4,"question":"When was the food waste goal set?","answers":["In 2019","By 2030","In 2020","In 2015"],"correct":["In 2015"]},{"qid":5,"question":"What type of company are Unilever and PepsiCo?","answers":["A food retailer","A food maker","Both a food maker and retailer"],"correct":["A food maker"]}],"texts":[{"tag":"original","text":"Nearly 200 food suppliers, including some of the largest producers in the world, have pledged to reduce their food waste by half before 2030.\nThe companies, who make such products as Rice Krispies cereal, Hellmann's mayonnaise and Spam, have joined the 10x20x30 initiative, a global effort to reduce the amount of food that is discarded every year, the World Resources Institute, which supports the program, announced on September 23. The big food makers — a list that includes giants Unilever, PepsiCo and Nestle Global — join some of the world's largest food retailers, who in 2019, signed onto the campaign.\nThe companies will make annual reports about their food loss and waste and will be encouraged to share the information on the Food Waste Atlas, a searchable website, an institute representative says, but how they meet their targets will vary.\nThe idea behind 10x20x30 was to get 10 major retailers — a group that wound up including Walmart, Kroger and the parent of Giant Foods — to make a similar pledge, and then for each to enlist 20 of their suppliers to commit, too, in the hopes of meeting a goal set at the 2015 United Nations General Assembly to halve the world's food waste."},{"tag":"newsela","text":"Nearly 200 food suppliers have pledged to cut their food waste by half before 2030. Participants include the makers of Rice Krispies cereal, Hellmann's mayonnaise and Spam.\nThe companies have joined the 10x20x30 project. It is a global effort to reduce the amount of food that is thrown away every year. The big food makers — including Unilever, PepsiCo and Nestle Global — join some of the world's largest food retailers, who signed onto the campaign in 2019. A retailer is company, store or person who sells products.\nThe companies will make yearly reports about their food loss and waste, but how they meet their targets will vary. Participating producers will be encouraged to share the information on the Food Waste Atlas. It's a searchable website that tracks food waste.\nThe idea behind 10x20x30 was to get 10 major retail chains to make a pledge to reduce waste. The group already includes grocery stores Walmart and Kroger. Each parent company would then enlist 20 of their suppliers to commit to reducing waste also. The project hopes to meet the goal set at the 2015 United Nations General Assembly to halve the world's food waste."},{"tag":"supervised","text":"Almost 200 food suppliers have pledged to reduce their food waste by half by 2030. The suppliers include some of the largest cattle producers in the world.\nThe companies, who make such products as Rice Krispies cereal, Hellmann's mayonnaise and Spam, have joined the 10x20x30 program. The new plan was launched on September 23. The big food makers — a list that includes giants Unilever, PepsiCo and Nestle Global — join some of the world's largest food retailers. In 2019, they signed onto the program.\nThe companies will make annual reports about their food loss and waste. They will be encouraged to share the information on the Food Waste Atlas, a searchable website. How they meet their targets will vary, a company representative said.\nThe idea behind 10x20x30 was to get big retailers — a group that included Walmart, Kroger and the parent company of Giant Foods — to make a similar pledge. And then for each retailer to enlist 20 of their suppliers to commit to help save the world a lot of food. This goal was set at the United Nations in 2015."},{"tag":"unsupervised","text":"Food waste is a major problem in the world's food supply. Numerous food companies , including big producers , have pledged to reduce their waste by half before 2030.\n The companies , who make rice Krispies cereal , Hellmann's mayonnaise and Spam, have joined the 10x20x30 initiative , a global effort to reduce waste , the World Resources Institute , which supports the initiative , said. The big food makers — a list that includes giants like Unilever and PepsiCo — join some of the biggest food retailers, who in 2019, joined the 10x20x30 program.\n The companies will make annual reports about food loss and waste and will be encouraged to share the information on the Food Waste Atlas, an official says. How they meet their targets will vary.\n The idea behind 10x20x30 was to get 10 major retailers to make a similar pledge and then for each to enlist 20 of their suppliers for the effort , too , in hopes of meeting a target set by the United Nations in 2015 to tackle the problem of food waste."},{"tag":"access","text":"Nearly 200 food suppliers, including some of the largest producers in the world have made their food waste by half before 2030.\nThe companies, who make such products as Rice Krispies cereal, Hellmann's mayonnaise and Spam, have joined the 10x20x30 group. The company said that there is a global amount of food that is discarded every year, the World Resources Institute. The big food is a list of the main things that includes giants Unilever, PepsiCo and Nestle Global RAF, and some of the world's largest food retailers.\nThe companies will make yearly reports about their food loss. The report will be encouraged to share the information on the Food Waste Atlas, a searchable website, an institute representative says, but how they meet their targets will vary.\nThe idea behind 10x20x30 was to get a group that wound up including Walmart, Kroger and the parent of Giant Foods Hospital to make a similar pledge, and then for each to join 20 of their suppliers, too, in the hopes of meeting a goal set at the 2015 United Nations General Assembly to halve the world's food waste."}]},{"document_id":4,"url":"https://newsela.com/read/largest-iceberg-penguin-collision/id/2001015997/","questions":[{"qid":1,"question":"What is the name of the iceberg?","answers":["A68a","BAS","Berg","South Georgia"],"correct":["A68a"]},{"qid":2,"question":"Where did the Iceberg break off from?","answers":["Antartica","The North Pole","South Georgia"],"correct":["Antartica"]},{"qid":3,"question":"Where is the Iceberg headed?","answers":["New York city","South Georgia","A68a","BAS"],"correct":["South Georgia"]},{"qid":4,"question":"Why could the iceberg pose a threat?","answers":["It could block off paths for animals to find food or breed","It could break the island in pieces","It could threaten researchers at the British Antarctic Society","It could perturb satellites"],"correct":["It could block off paths for animals to find food or breed"]},{"qid":5,"question":"Where is South Georgia?","answers":["In the USA","In South America","In the South Atlantic Ocean","In New York state"],"correct":["In the South Atlantic Ocean"]}],"texts":[{"tag":"original","text":"The world's largest iceberg may be on a collision course with a wildlife haven in the South Atlantic Ocean, researchers at the British Antarctic Society (BAS) reported. If the gargantuan berg becomes grounded near South Georgia island (a British overseas territory and one of the South Sandwich Islands), it could crush animals and block off foraging routes for thousands of penguins and seals — potentially disrupting the island's ecosystem for a decade or more, according to BAS scientists.\nThe iceberg in question is known simply as A68a. The massive slab calved from Antarctica's Larsen C Ice Shelf in July 2017, initially measuring more than 2,300 square miles (6,000 square kilometers) in area — an ice raft large enough to hold the five boroughs of New York City five times over. Since then, A68a has been drifting ever northward into warmer waters, gradually shedding little chunks of itself along the way. (As of early April, the hunk of ice still measured about 2,000 square miles, or 5,100 square km, in area, Live Science previously reported.)\nRecently, satellite images have spotted the berg (which now looks like a hand with one pointing finger) drifting directly toward South Georgia, a small, mountainous island that serves as the breeding ground for hundreds of thousands of seals and penguins."},{"tag":"newsela","text":"Iceberg, ahoy! The world's largest iceberg is floating toward an important home for wildlife in the South Atlantic Ocean. Icebergs are large, floating pieces of ice. According to researchers at the British Antarctic Society (BAS), this one is threatening an island called South Georgia. This island is a British territory between Antarctica and South America. If the berg lands near South Georgia, it could hurt animals and block off the paths that animals use to find food, says Geraint Tarling.\nThe iceberg in question is[unsupervised] 157 (0.744) known simply as A68a. In July 2017, the giant piece of ice broke off from one of Antarctica's ice shelves, a floating layer of sea ice attached to the land. At first, it measured more than 2,300 square miles (6,000 square kilometers) in area. That's large enough to hold the five major neighborhoods of New York City five times over. Since then, A68a has been drifting north into warmer waters, slowly losing little pieces of itself along the way. (As of early April, the hunk of ice still measured about 2,000 square miles, or 5,100 square km, in area.)\nRecently, the researchers noticed the iceberg drifting directly toward South Georgia. They spotted this in pictures taken by satellites, which circle around Earth in space. South Georgia is a small, mountainous island. It's also where hundreds of thousands of seals and penguins make their breeding ground, or where they gather to have babies."},{"tag":"supervised","text":"The world's largest iceberg may be heading toward a wildlife park in the South Atlantic Ocean. Scientists at the British Antarctic Society (BAS) reported the discovery. If the huge berg is grounded near South Georgia island (a British overseas territory), it could crush animals and block off foraging routes for thousands of penguins and seals — potentially disrupting the island's ecosystem for a decade or more.\nThe iceberg in question is known simply as A68a. It was calved from Antarctica's Larsen C Ice Shelf in July 2017. Previously, the giant slab measured more than 2,300 square miles ( 6,000 square kilometers), or an ice raft large enough to hold the five boroughs of New York City five times over. Since then, it has slowly drifted northward into warmer waters, slowly melting away.\nRecently, satellite images have spotted the berg. It now looks like a hand with one pointing finger, moving toward South Georgia. This small, mountainous island serves as a breeding ground for hundreds of thousands of seals and penguins."},{"tag":"unsupervised","text":"The world's largest iceberg may be on a collision course with a wildlife haven in the South Atlantic Ocean , researchers at the British Antarctic Society ( BAS ) have reported. If the iceberg gets grounded near South Georgia island, it could crush animals and block off foraging for penguins and seals for a decade or more, BAS scientists say.\n The iceberg in question is A68a. The giant slab of ice calved from Antarctica's Larsen C Ice Shelf in July 2017 , measuring more than 2,300 square miles ( 6,000 square km ) in area — enough to hold five boroughs of New York City many times over. Since then, A68a has drifted ever northward, shedding little chunks of its own along the way.\n The latest satellite images, taken last month , show the berg on the move toward South Georgia , a tiny island that has become an important breeding ground for tens of thousands of seals and penguins."},{"tag":"access","text":"The world's largest iceberg may be on the way that a wildlife haven in the South Atlantic Ocean, researchers at the British Antarctic Society (BAS) reported. If the gargantuan berg becomes grounded near South Georgia island (a British overseas territory and one of the South Sandwich Islands), it could crush animals and block off foraging routes for thousands of penguins and seals the island's ecosystem for a decade or more, according to BAS scientists.\nThe iceberg in question is also known as A68a. The massive slab calved from Antarctica's Larsen C Ice Shelf in July 2017, first measuring more than 2,300 square miles (6,000 square kilometers) in area order to hold the five boroughs of New York City five times. Since then, A68a has been able to move north into warmer waters. Shedding little chunks on itself along the way. (As of early April, the hunk of ice still measured about 2,000 square miles, or 5,100 square km, in area, Live Science reported.)\nRecently, moon images have seen the berg (which now looks like a hand with one pointing finger) drifting directly toward South Georgia, a small island that serves as the breeding ground for hundreds of thousands of seals and penguins."}]}];

        String.prototype.replaceAll = function(str1, str2, ignore) {
            return this.replace(new RegExp(str1.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),(ignore?"gi":"g")),(typeof(str2)=="string")?str2.replace(/\$/g,"$$$$"):str2);
        }
        function shuffle(a) {
            var j, x, i;
            for (i = a.length - 1; i > 0; i--) {
                j = Math.floor(Math.random() * (i + 1));
                x = a[i];
                a[i] = a[j];
                a[j] = x;
            }
            return a;
        }
        var sum = function(array) {
            var total = 0;
            for (var i=0; i<array.length; i++) {total += array[i];}
            return total;
        };
        var mean = function(array) {
            var arraySum = sum(array);
            return arraySum / array.length;
        };

        var active_article = null;
        var start_time  = null, end_time = null;
        var already_time = 0.0, num_interruptions = 0, num_submissions = 0, submission_accuracies = [];
        var assignmentId = null, turkSubmitTo = null;
        var force_correct = true;
        var in_main = false;

        function same_sets(S1, S2) {
            if(S1.length != S2.length) return false;
            for(var e1 of S1) {
                if(S2.indexOf(e1) < 0) {return false;}
            }
            return true;
        }
        function fill_active_main() {
            if(active_article.finished) {
                $("#main_section, #invalid_section, #pre_questions").hide();
            }
            else {
                in_main = true;
                already_time = 0.0; num_interruptions = 0, num_submissions = 0, submission_accuracies = [];
                start_time = new Date().getTime();
                var questions = active_article.questions;
                $("#article_content").html("<p>"+active_article.text.text.replaceAll("\n", "</p><p>")+"</p>");
                $("#pre_questions").hide();
                var questions_HTML = "";
                for(var question of questions) {
                    questions_HTML += `<div id="question_${question.qid}" class='question'>${question.question}</div>`;
                    shuffle(question.answers);
                    for(var i = 0; i < question.answers.length; i++) {
                        var answer = question.answers[i];
                        questions_HTML += `<label><input type="checkbox" name="q_${question.qid}" value="${answer}">${answer}</label>`;
                    }
                    questions_HTML += `<label><input type="checkbox" name="q_${question.qid}" value="">Answer not in document</label>`;
                }
                $("#article_questions").html(questions_HTML);
                $("#questions_loading").show(); $("#questions_and_button").hide();
                setTimeout(function() {
                    $("#questions_loading").hide(); $("#questions_and_button").show();
                }, 30*1000);
            }
        }
        function submit_presubmission() {
            var is_native = $("input[name='is_native']:checked").val();
            var how_often = $("input[name='how_often']:checked").val();
            // full_json(`/api/simple_study/pre/${is_native}/${how_often}`, function(data) {
            //     active_article = data;
            //     fill_active_main();
            // });
            // For demonstration purposes, the original Python logic would shuffle order
            // Note that the question order, the answer order, and document selection were all randomized
            
            var selected_sample = simplification_data[0];
            active_article = {"text": selected_sample["texts"][2], "questions": selected_sample["questions"], "document_id": selected_sample["document_id"]};
            fill_active_main();

        }
        function submit_main() {
            var questions = active_article.questions;
            end_time = new Date().getTime();
            var time_it_took_secs = (end_time - start_time)/1000.0 + already_time;
            num_submissions += 1;

            var is_native = $("input[name='is_native']:checked").val();
            var how_often = $("input[name='how_often']:checked").val();

            var submission_data = {"elapsed_time": time_it_took_secs, "document_id": active_article.document_id, "tag": active_article.text.tag, "is_native": is_native, "how_often": how_often, "num_interruptions": num_interruptions, "num_submissions": num_submissions};
            var all_correct = true;
            var accuracies = []
            for(var question of questions) {
                var this_chosen_answers = [];
                $(`input[name='q_${question.qid}']:checked`).map(function() {this_chosen_answers.push($(this).val());});
                if(force_correct) {
                    if(!same_sets(this_chosen_answers, question.correct)) {
                        all_correct = false;
                        $(`#question_${question.qid}`).addClass("incorrect_question");
                        accuracies.push(0.0);
                    }
                    else {
                        $(`#question_${question.qid}`).removeClass("incorrect_question");
                        accuracies.push(1.0);
                    }
                }
                submission_data[`question_${question.qid}`] = this_chosen_answers.join("||");
            }
            submission_accuracies.push(mean(accuracies))

            submission_data["submission_accuracies"] = submission_accuracies.join(";")
            console.log(submission_data);
            if(all_correct || !force_correct) {
                $.post("/api/simple_study/submit_article", submission_data, function(data) {
                    active_article = data;
                    fill_active_main();
                });
            }
            else {
                alert("Correct the answers and you can resubmit.")
            }
        }
        function init() {
            // AWS related
            // full_json("/api/simple_study/start", function(data) {
            //     if(data[0] == 0) {
            //         var gets = window.location.search.replace("?", "");
            //         var kvs = gets.split("&");
            //         for(var i = 0; i < kvs.length; i++) {
            //             var ks = kvs[i].split("=");
            //             if(ks[0] == 'assignmentId') {assignmentId = ks[1];}
            //             if(ks[0] == 'turkSubmitTo') {turkSubmitTo = ks[1];}
            //         }
            //         if(assignmentId && turkSubmitTo) {
            //             $("#assignmentId").val(assignmentId);
            //             $("#aws_form").attr("action", decodeURIComponent(turkSubmitTo)+"/mturk/externalSubmit")
            //         }
            //     }
            //     else {
            //         $("#main_section, #pre_questions, #consent_mask").hide();
            //         $("#invalid_section").show();
            //     }
            // });

        }
        function handleVisibilityChange() {
            console.log("visibility state:", document.visibilityState);
            if (document.visibilityState == "hidden") {
                num_interruptions += 1;
                if(in_main) {
                    already_time += (new Date().getTime()-start_time) / 1000.0;
                    console.log("Paused the time, so far:", already_time)
                }
            }
            else {
                if(in_main) {
                    start_time = new Date().getTime();
                    console.log("Resuming the time, so far:", already_time);
                }
                if(num_interruptions > 0) {
                    alert("Please do this task all at once, without exiting the window.");
                }
            }
        }
        init();
        document.addEventListener('visibilitychange', handleVisibilityChange, false);
        handleVisibilityChange();
    </script>
    </body>
</html>